<div class="container-fluid py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card border-0 shadow-lg">
                <div class="card-body p-5">
                    <!-- Profile section title -->
                    <h2 class="card-title text-center mb-5">Your Profile</h2>

                    <div class="row">
                        <div class="col-md-5">
                            <div class="mb-4">
                                <div class="text-center mb-4">
                                    <!-- Image upload section -->
                                    <label for="fileUpload">
                                        <img *ngIf="imageURL !== ''" alt="img" src="{{imageURL}}" class="img-thumbnail shadow-sm rounded-circle" style="width: 200px; height: 200px; cursor: pointer;" />
                                    </label>
                                    <input type="file" id="fileUpload" class="file-input d-none" accept="image/png, image/jpeg" (change)="onFileSelected($event)" #fileUpload>
                                </div>
                            </div>

                            <div class="form-group mb-4">
                                <!-- User email and description -->
                                <h3 class="card-subtitle mb-3">{{getUserEmail()}}</h3>
                                <p class="card-text">{{ userDescription }}</p>
                                <button class="btn btn-info" (click)="startEditingDescription()">Edit description</button>
                            </div>

                            <div class="form-group mb-4">
                                <!-- Edit profile dropdown -->
                                <div class="dropdown">
                                    <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Edit profile
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="editProfileDropdown">
                                        <li><a class="dropdown-item" href="#" (click)="startEditingDescription()">Edit description</a></li>
                                        <li><a class="dropdown-item" href="#">
                                            Edit profile pic
                                            <input type="file" id="file" class="file-input d-none" accept="image/png, image/jpeg" (change)="onFileSelected($event)" #fileUpload>
                                        </a></li>
                                    </ul>
                                </div>
                            </div>

                            <div class="form-group mb-4">
                                <!-- Delete account button -->
                                <button class="btn btn-danger" (click)="deleteAccount()">Delete your account</button>
                            </div>
                        </div>

                        <div class="col-md-7">
                            <div *ngIf="isEditingDescription">
                                <!-- Edit description section -->
                                <textarea class="form-control mb-4" rows="3" placeholder="Enter your description" [(ngModel)]="userDescription"></textarea>
                                <button class="btn btn-info mr-2" (click)="saveDescription()">Save</button>
                                <button class="btn btn-secondary" (click)="cancelEditingDescription()">Cancel</button>
                            </div>

                            <div class="d-flex justify-content-start mb-4">
                                <!-- Buttons section -->
                                <a routerLink="/newpost" class="btn btn-primary mr-3">New post</a>
                                <!--                                <button class="btn btn-secondary mr-3" (click)="viewFriends()">View Friends</button>-->
                                <a class="btn btn-secondary mr-3" routerLinkActive="active" routerLink="/friendlist">View Friends</a>
                            </div>

                            <h3 class="card-subtitle mb-3">Your Posts</h3>

                            <!-- Post list component -->
                            <app-post-list></app-post-list>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
